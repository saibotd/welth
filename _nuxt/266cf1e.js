(window.webpackJsonp=window.webpackJsonp||[]).push([[10,3,8],{235:function(e,t,n){var content=n(239);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(48).default)("2a217e1e",content,!0,{sourceMap:!1})},236:function(e,t,n){e.exports=n.p+"img/logo.70f14fc.svg"},238:function(e,t,n){"use strict";n(235)},239:function(e,t,n){var r=n(47),o=n(240),c=n(236),l=r(!1),d=o(c);l.push([e.i,".big-loader[data-v-6ec68970]{position:fixed;left:0;top:0;right:0;bottom:0;display:flex}.big-loader>.inner[data-v-6ec68970]{background:url("+d+") no-repeat;background-size:contain;margin:auto}",""]),e.exports=l},240:function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},243:function(e,t,n){"use strict";n.r(t);n(238);var r=n(23),component=Object(r.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"big-loader"},[t("client-only",[t("div",{staticClass:"inner"},[t("vue-simple-spinner",{attrs:{size:96,"line-size":6,"line-fg-color":"deeppink","line-bg-color":"transparent"}})],1)])],1)}),[],!1,null,"6ec68970",null);t.default=component.exports},245:function(e,t,n){e.exports=function(){var e="undefined"!=typeof window,t="undefined"!=typeof navigator,n=e&&("ontouchstart"in window||t&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"];function i(e){var t=e.event,n=e.handler;(0,e.middleware)(t)&&n(t)}function r(e,t){var r=function(e){var t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||n,isActive:!(!1===e.isActive),detectIframe:!(!1===e.detectIframe)}}(t.value),o=r.handler,c=r.middleware,a=r.detectIframe;if(r.isActive){if(e["__v-click-outside"]=r.events.map((function(t){return{event:t,srcTarget:document.documentElement,handler:function(t){return function(e){var t=e.el,n=e.event,r=e.handler,o=e.middleware,c=n.path||n.composedPath&&n.composedPath();(c?c.indexOf(t)<0:!t.contains(n.target))&&i({event:n,handler:r,middleware:o})}({el:e,event:t,handler:o,middleware:c})}}})),a){var l={event:"blur",srcTarget:window,handler:function(t){return function(e){var t=e.el,n=e.event,r=e.handler,o=e.middleware;setTimeout((function(){var e=document.activeElement;e&&"IFRAME"===e.tagName&&!t.contains(e)&&i({event:n,handler:r,middleware:o})}),0)}({el:e,event:t,handler:o,middleware:c})}};e["__v-click-outside"]=[].concat(e["__v-click-outside"],[l])}e["__v-click-outside"].forEach((function(t){var n=t.event,i=t.srcTarget,r=t.handler;return setTimeout((function(){e["__v-click-outside"]&&i.addEventListener(n,r,!1)}),0)}))}}function o(e){(e["__v-click-outside"]||[]).forEach((function(e){return e.srcTarget.removeEventListener(e.event,e.handler,!1)})),delete e["__v-click-outside"]}var c=e?{bind:r,update:function(e,t){var n=t.value,i=t.oldValue;JSON.stringify(n)!==JSON.stringify(i)&&(o(e),r(e,{value:n}))},unbind:o}:{};return{install:function(e){e.directive("click-outside",c)},directive:c}}()},246:function(e,t,n){var content=n(252);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(48).default)("3d8464d8",content,!0,{sourceMap:!1})},250:function(e,t,n){"use strict";var r=n(46),o=n.n(r).a.create({baseURL:"https://api.coingecko.com/api/v3",timeout:4e3});t.a=o},251:function(e,t,n){"use strict";n(246)},252:function(e,t,n){var r=n(47)(!1);r.push([e.i,'.select[data-v-2a77185c]{cursor:unset;position:relative}.select .input[data-v-2a77185c]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-right:20px}.select .input[data-v-2a77185c]:after{content:"▼";color:#696969;position:absolute;right:10px}.select>.list[data-v-2a77185c]{position:absolute;width:100%;left:0;top:100%;background:#d3d3d3;border-top:1px solid #696969;border-bottom:1px solid #696969;max-height:30vh;overflow-y:auto;z-index:1}.select>.list input[data-v-2a77185c]{width:calc(100% - 16px);margin:8px}.select>.list ul[data-v-2a77185c]{list-style:none;padding:0;margin:0}.select>.list ul li[data-v-2a77185c]{display:block;padding:8px}.select>.list ul li[data-v-2a77185c]:hover{background:#696969;color:#d3d3d3}',""]),e.exports=r},265:function(e,t,n){var content=n(280);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(48).default)("230f838d",content,!0,{sourceMap:!1})},271:function(e,t,n){"use strict";n.r(t);n(49),n(166),n(37),n(103),n(104);var r=n(245),o={props:{options:Array,value:String},data:function(){return{open:!1,search:""}},created:function(){this.value||this.$emit("input",this.options[0].value)},computed:{valueLabel:function(){var e=this;return this.value?this.options.find((function(t){return t.value==e.value})).label:"-"},filteredOptions:function(){var e=this;return this.search.length?this.options.filter((function(t){return t.label.toLowerCase().startsWith(e.search.toLowerCase())})):[]}},directives:{clickOutside:n.n(r).a.directive},watch:{open:function(e){var t=this;e?this.$nextTick((function(){t.$refs.search.focus()})):this.search=""}},methods:{setValue:function(e){this.$emit("input",e),this.open=!1}}},c=(n(251),n(23)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){e.open=!1},expression:"\n    () => {\n      open = false\n    }\n  "}],staticClass:"select"},[n("div",{staticClass:"input",on:{click:function(t){e.open=!e.open}}},[e._v(e._s(e.valueLabel))]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"list"},[n("input",{ref:"search",attrs:{placeholder:"search..."},domProps:{value:e.search},on:{input:function(t){return e.search=t.target.value}}}),e._v(" "),n("ul",e._l(e.filteredOptions,(function(t){var r=t.value,label=t.label;return n("li",{key:r,on:{click:function(){return e.setValue(r)}}},[e._v("\n        "+e._s(label)+"\n      ")])})),0)])])}),[],!1,null,"2a77185c",null);t.default=component.exports},276:function(e,t,n){var r=n(168);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},277:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},278:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},279:function(e,t,n){"use strict";n(265)},280:function(e,t,n){var r=n(47)(!1);r.push([e.i,".container[data-v-bc4a7e74]{padding-bottom:20vh}.input input[data-v-bc4a7e74]{display:block;width:100%}.input label[data-v-bc4a7e74]{display:block;font-weight:700;color:#40e0d0}.input .checkbox[data-v-bc4a7e74]{display:flex;align-items:center}.input .checkbox input[data-v-bc4a7e74]{height:2.5rem;width:2.5rem;margin:10px}.inputs[data-v-bc4a7e74]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-end}@media(max-width:600px){.inputs[data-v-bc4a7e74]{display:block}}.inputs .input[data-v-bc4a7e74]{width:50%;margin-right:5px}@media(max-width:600px){.inputs .input[data-v-bc4a7e74]{width:100%}}.wallet[data-v-bc4a7e74]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;border:1px solid #639;border-right:none;border-left:none;padding:20px 0 10px;margin-top:-1px;position:relative}@media(max-width:600px){.wallet[data-v-bc4a7e74]{display:block}}.wallet .input[data-v-bc4a7e74]{width:30%;margin-right:5px}@media(max-width:600px){.wallet .input[data-v-bc4a7e74]{width:100%}}.wallet button.remove[data-v-bc4a7e74]{position:absolute;top:0;right:0;background:transparent;color:#ff4500;font-size:28px;padding:5px;margin:0}.actions[data-v-bc4a7e74]{display:flex;margin:10px 0 10px -2px}.actions>*[data-v-bc4a7e74]{flex:1;margin-left:2px}",""]),e.exports=r},292:function(e,t,n){"use strict";n.r(t);n(69),n(49),n(166),n(34),n(28),n(37),n(68),n(39);var r=n(276),o=n(277),c=n(135),l=n(278);function d(e){return r(e)||o(e)||c(e)||l()}n(27);var v=n(5),f=n(244),m=n.n(f),h=n(250),x={head:function(){return{title:"Edit ".concat(this.portfolio.title)}},data:function(){return{ready:!1,currencies:[],coins:[],portfolio:{}}},mounted:function(){var e=this;return Object(v.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load();case 2:return t.next=4,e.loadCurrencies();case 4:return t.next=6,e.loadCoins();case 6:e.ready=!0;case 7:case"end":return t.stop()}}),t)})))()},methods:{loadCurrencies:function(){var e=this;return Object(v.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.getItem("currencies");case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:if(e.currencies=t.t0,e.currencies.length){t.next=11;break}return t.next=9,e._loadCurrencies(!0);case 9:t.next=12;break;case 11:e._loadCurrencies();case 12:case"end":return t.stop()}}),t)})))()},loadCoins:function(){var e=this;return Object(v.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.getItem("coins");case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:if(e.coins=t.t0,e.coins.length){t.next=11;break}return t.next=9,e._loadCoins(!0);case 9:t.next=12;break;case 11:e._loadCoins();case 12:case"end":return t.stop()}}),t)})))()},_loadCurrencies:function(){var e=arguments,t=this;return Object(v.a)(regeneratorRuntime.mark((function n(){var r,o,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]&&e[0],n.next=3,h.a.get("https://api.coingecko.com/api/v3/simple/supported_vs_currencies");case 3:return o=n.sent,data=o.data,n.next=7,m.a.setItem("currencies",data);case 7:r&&(t.currencies=data);case 8:case"end":return n.stop()}}),n)})))()},_loadCoins:function(){var e=arguments,t=this;return Object(v.a)(regeneratorRuntime.mark((function n(){var r,o,data,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]&&e[0],n.next=3,h.a.get("https://api.coingecko.com/api/v3/coins/list");case 3:return o=n.sent,data=o.data,c=[{id:"_fiat"}].concat(d(data)),n.next=8,m.a.setItem("coins",c);case 8:r&&(t.coins=c);case 9:case"end":return n.stop()}}),n)})))()},load:function(){var e=this;return Object(v.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.getItem("portfolios");case 2:n=t.sent,e.portfolio=n[e.$route.query.id];case 4:case"end":return t.stop()}}),t)})))()},rmWallet:function(e){this.portfolio.wallets=this.portfolio.wallets.filter((function(t,i){return i!==e}))},addWallet:function(){this.portfolio.wallets.push({val:0})},submit:function(){var e=this;return Object(v.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.getItem("portfolios");case 2:return(n=t.sent)||(n={}),e.portfolio.wallets.forEach((function(t){"_fiat"!=t.id&&(t.symbol=e.coins.find((function(e){return e.id==t.id})).symbol.toUpperCase())})),n[e.$route.query.id]=e.portfolio,t.next=8,m.a.setItem("portfolios",n);case 8:e.$router.replace("/portfolio?id=".concat(e.$route.query.id));case 9:case"end":return t.stop()}}),t)})))()}},computed:{currenciesOptions:function(){return this.currencies.map((function(e){return{value:e,label:e.toUpperCase()}}))},coinsOptions:function(){var e=this;return this.coins.map((function(t){return{value:t.id,label:"_fiat"==t.id?"".concat(e.portfolio.currency.toUpperCase()," (same as funds)"):"".concat(t.symbol.toUpperCase()," ").concat(t.name)}}))}}},_=(n(279),n(23)),component=Object(_.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ready?n("div",{staticClass:"container"},[n("h1",[e._v("Edit "+e._s(e.portfolio.title))]),e._v(" "),n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("h2",[e._v("Settings")]),e._v(" "),n("div",{staticClass:"inputs"},[n("div",{staticClass:"input"},[n("label",[e._v("Title")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.portfolio.title,expression:"portfolio.title"}],domProps:{value:e.portfolio.title},on:{input:function(t){t.target.composing||e.$set(e.portfolio,"title",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input"},[n("label",[e._v("Locale (number format)")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.portfolio.number_locale,expression:"portfolio.number_locale"}],domProps:{value:e.portfolio.number_locale},on:{input:function(t){t.target.composing||e.$set(e.portfolio,"number_locale",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.portfolio.weighted_trend,expression:"portfolio.weighted_trend"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.portfolio.weighted_trend)?e._i(e.portfolio.weighted_trend,null)>-1:e.portfolio.weighted_trend},on:{change:function(t){var n=e.portfolio.weighted_trend,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=e._i(n,null);r.checked?c<0&&e.$set(e.portfolio,"weighted_trend",n.concat([null])):c>-1&&e.$set(e.portfolio,"weighted_trend",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.portfolio,"weighted_trend",o)}}}),e._v("\n          Weighted trend\n        ")])])]),e._v(" "),n("h2",[e._v("Invest")]),e._v(" "),n("div",{staticClass:"inputs"},[n("div",{staticClass:"input"},[n("label",[e._v("Funds spend")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.portfolio.funds,expression:"portfolio.funds",modifiers:{number:!0}}],attrs:{type:"number",step:"any"},domProps:{value:e.portfolio.funds},on:{input:function(t){t.target.composing||e.$set(e.portfolio,"funds",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),n("div",{staticClass:"input"},[n("label",[e._v("Currency")]),e._v(" "),n("Select",{attrs:{options:e.currenciesOptions},model:{value:e.portfolio.currency,callback:function(t){e.$set(e.portfolio,"currency",t)},expression:"portfolio.currency"}})],1)]),e._v(" "),n("h2",[e._v("Wallets")]),e._v(" "),e._l(e.portfolio.wallets,(function(t,i){return n("div",{key:i,staticClass:"wallet"},[n("div",{staticClass:"input"},[n("label",[e._v("Coin")]),e._v(" "),n("Select",{attrs:{options:e.coinsOptions},model:{value:t.id,callback:function(n){e.$set(t,"id",n)},expression:"wallet.id"}})],1),e._v(" "),n("div",{staticClass:"input"},[n("label",[e._v("Quantity")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.val,expression:"wallet.val",modifiers:{number:!0}}],attrs:{type:"number",step:"any"},domProps:{value:t.val},on:{input:function(n){n.target.composing||e.$set(t,"val",e._n(n.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),n("div",{staticClass:"input"},[n("label",[e._v("Note")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"wallet.note"}],domProps:{value:t.note},on:{input:function(n){n.target.composing||e.$set(t,"note",n.target.value)}}})]),e._v(" "),n("button",{staticClass:"remove",attrs:{type:"button"},on:{click:function(t){return e.rmWallet(i)}}},[e._v("×")])])})),e._v(" "),n("div",{staticClass:"actions"},[n("button",{attrs:{type:"button"},on:{click:e.addWallet}},[e._v("+ wallet")]),e._v(" "),n("nuxt-link",{staticClass:"button cancel red",attrs:{to:"/portfolio?id="+e.$route.query.id}},[e._v("Cancel")]),e._v(" "),n("button",{staticClass:"green",attrs:{type:"submit"}},[e._v("Save")])],1)],2)]):n("BigLoader")}),[],!1,null,"bc4a7e74",null);t.default=component.exports;installComponents(component,{BigLoader:n(243).default,Select:n(271).default})}}]);